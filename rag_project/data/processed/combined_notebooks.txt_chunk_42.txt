ement str cypher_errors Liststr database_records Listdict steps AnnotatedListstr add class OutputStateTypedDict answer str steps Liststr cypher_statement str The first step is a simple guardrails step where we validate whether the question pertains to movies or their cast If it doesnt we notify the user that we cannot answer any other questions Otherwise we move on to the Cypher generation step from typing import Literal from langchain_coreprompts import ChatPromptTemplate from pydantic import BaseModel Fie