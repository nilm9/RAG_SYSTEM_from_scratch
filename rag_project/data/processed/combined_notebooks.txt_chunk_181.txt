d them below Note that we leverage another prebuilt LangGraph component ToolNodehttpslangchainaigithubiolanggraphreferenceprebuiltlanggraphprebuilttool_nodeToolNode that executes the tool and adds the result as a ToolMessage to the state from langchain_coremessages import SystemMessage from langgraphprebuilt import ToolNode  Step 1 Generate an AIMessage that may include a toolcall to be sent def query_or_respondstate MessagesState Generate tool call for retrieval or respond llm_with_tools  llmbind_toolsretr