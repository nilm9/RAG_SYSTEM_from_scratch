g internally check out this LangSmith tracehttpssmithlangchaincompublic15bd8589005c4812b9b923e74ba4c3c6r  Managing Conversation History One important concept to understand when building chatbots is how to manage conversation history If left unmanaged the list of messages will grow unbounded and potentially overflow the context window of the LLM Therefore it is important to add a step that limits the size of the messages you are passing in Importantly you will want to do this BEFORE the prompt template but A