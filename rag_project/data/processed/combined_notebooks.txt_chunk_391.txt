a list of elements import ast import re def query_as_listdb query res  dbrunquery res  el for sub in astliteral_evalres for el in sub if el res  resubrbdb  stringstrip for string in res return listsetres artists  query_as_listdb SELECT Name FROM Artist albums  query_as_listdb SELECT Title FROM Album albums5 Using this function we can create a retriever tool that the agent can execute at its discretion Lets select an embeddings modeldocsintegrationstext_embedding and vector storedocsintegrationsvectorstores 