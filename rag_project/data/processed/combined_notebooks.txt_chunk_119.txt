th invoke to get a final response If the agent executes multiple steps this may take a while To show intermediate progress we can stream back messages as they occur for chunk in agent_executorstream messages HumanMessagecontentwhats the weather in sf  printchunk print  Streaming tokens In addition to streaming back messages it is also useful to stream back tokens We can do this with the astream_events method important This astream_events method only works with Python 311 or higher  async for event in agent_