ontentnice HumanMessagecontentwhats 2  2 AIMessagecontent4 HumanMessagecontentthanks AIMessagecontentno problem HumanMessagecontenthaving fun AIMessagecontentyes  trimmerinvokemessages To use it in our chain we just need to run the trimmer before we pass the messages input to our prompt workflow  StateGraphstate_schemaState def call_modelstate State  highlightstart trimmed_messages  trimmerinvokestatemessages prompt  prompt_templateinvoke messages trimmed_messages language statelanguage  response  modelinvo