chain  generate_final_prompt  llm  StrOutputParser def generate_final_answerstate OverallState  OutputState  Decides if the question is related to movies  final_answer  generate_final_chaininvoke question stategetquestion results stategetdatabase_records  return answer final_answer steps generate_final_answer Next we will implement the LangGraph workflow starting with defining the conditional edge functions def guardrails_condition state OverallState   Literalgenerate_cypher generate_final_answer if statege