response  llminvokemessages return answer responsecontent Our retrieval step simply runs a similarity search using the input question and the generation step formats the retrieved context and original question into a prompt for the chat model  Control flow Finally we compile our application into a single graph object In this case we are just connecting the retrieval and generation steps into a single sequence from langgraphgraph import START StateGraph graph_builder  StateGraphStateadd_sequenceretrieve gene