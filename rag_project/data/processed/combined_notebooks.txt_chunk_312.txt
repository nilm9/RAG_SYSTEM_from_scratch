iddle end  Section to query  Finally we add a step to our LangGraph application to generate a query from the users raw input class StateTypedDict question str  highlightnextline query Search context ListDocument answer str  highlightnextline def analyze_querystate State  highlightnextline structured_llm  llmwith_structured_outputSearch  highlightnextline query  structured_llminvokestatequestion  highlightnextline return query query def retrievestate State  highlightstart query  statequery retrieved_docs  ve